<!-- PremiumNotification.xaml - FIXED: Non-transparent version with named Border -->
<Window x:Class="SpeedMeterApp.PremiumNotification"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Notification"
        Width="400"
        Height="140"
        WindowStyle="None"
        AllowsTransparency="False"
        Background="#0F0F0F"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize">
    
    <Window.Resources>
        <!-- Animation Storyboards -->
        <Storyboard x:Key="GlassSlideIn">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.Opacity)"
                             From="0" To="1" Duration="0:0:0.4" DecelerationRatio="0.7"/>
            <ThicknessAnimation Storyboard.TargetProperty="Margin"
                                From="0,50,0,0" To="0,0,0,0" Duration="0:0:0.5" DecelerationRatio="0.7"/>
        </Storyboard>
        
        <Storyboard x:Key="GlassSlideOut">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.Opacity)"
                             From="1" To="0" Duration="0:0:0.5" AccelerationRatio="0.3"/>
        </Storyboard>
        
        <!-- Solid Gradient Brushes (non-transparent) -->
        <LinearGradientBrush x:Key="GlassNetworkGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FF00B8D4" Offset="0"/>
            <GradientStop Color="#FF0097A7" Offset="0.5"/>
            <GradientStop Color="#FF00838F" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="GlassSuccessGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FF00C853" Offset="0"/>
            <GradientStop Color="#FF00A83E" Offset="0.5"/>
            <GradientStop Color="#FF008B3A" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="GlassErrorGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFD32F2F" Offset="0"/>
            <GradientStop Color="#FFC62828" Offset="0.5"/>
            <GradientStop Color="#FFB71C1C" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="GlassWarningGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFFFB300" Offset="0"/>
            <GradientStop Color="#FFFFA000" Offset="0.5"/>
            <GradientStop Color="#FFFF8F00" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="GlassPowerGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FF7C4DFF" Offset="0"/>
            <GradientStop Color="#FF651FFF" Offset="0.5"/>
            <GradientStop Color="#FF6200EA" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="GlassBatteryHighGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FF64DD17" Offset="0"/>
            <GradientStop Color="#FF4CAF50" Offset="0.5"/>
            <GradientStop Color="#FF2E7D32" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="GlassBatteryMediumGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFFFD600" Offset="0"/>
            <GradientStop Color="#FFFFC107" Offset="0.5"/>
            <GradientStop Color="#FFFF9800" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="GlassBatteryLowGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFFF5722" Offset="0"/>
            <GradientStop Color="#FFD84315" Offset="0.5"/>
            <GradientStop Color="#FFBF360C" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="GlassBatteryCriticalGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFDD2C00" Offset="0"/>
            <GradientStop Color="#FFC62828" Offset="0.5"/>
            <GradientStop Color="#FFB71C1C" Offset="1"/>
        </LinearGradientBrush>
        
        <!-- Icon Colors -->
        <SolidColorBrush x:Key="NetworkIconBrush" Color="#00E5FF"/>
        <SolidColorBrush x:Key="SuccessIconBrush" Color="#69F0AE"/>
        <SolidColorBrush x:Key="ErrorIconBrush" Color="#FF8A80"/>
        <SolidColorBrush x:Key="WarningIconBrush" Color="#FFD740"/>
        <SolidColorBrush x:Key="PowerIconBrush" Color="#B388FF"/>
        <SolidColorBrush x:Key="BatteryHighIconBrush" Color="#CCFF90"/>
        <SolidColorBrush x:Key="BatteryMediumIconBrush" Color="#FFFF8D"/>
        <SolidColorBrush x:Key="BatteryLowIconBrush" Color="#FFAB91"/>
        <SolidColorBrush x:Key="BatteryCriticalIconBrush" Color="#FF8A80"/>
    </Window.Resources>
    
    <!-- Main Container - ADD x:Name HERE -->
    <Border x:Name="MainBorder" CornerRadius="20"
            Margin="10"
            Background="{Binding NotificationBrush}">
        
        <!-- Inner border for depth effect -->
        <Border CornerRadius="18"
                Margin="2"
                Background="#0F0F0F"
                Opacity="0.7">
            
            <!-- Main Content Container -->
            <Grid Margin="20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Icon Container -->
                <Border Grid.Column="0"
                        Width="60"
                        Height="60"
                        CornerRadius="30"
                        Background="#151515"
                        BorderThickness="2"
                        BorderBrush="{Binding IconBrush}"
                        Margin="0,0,20,0">
                    
                    <!-- Animated Icon -->
                    <Viewbox Width="32" Height="32">
                        <TextBlock Text="{Binding NotificationIcon}"
                                   FontFamily="Segoe UI Emoji"
                                   Foreground="{Binding IconBrush}"
                                   FontWeight="Bold"
                                   FontSize="24"/>
                    </Viewbox>
                </Border>
                
                <!-- Text Content -->
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock Text="{Binding NotificationTitle}"
                               FontSize="18"
                               FontWeight="Bold"
                               Foreground="White"
                               Margin="0,0,0,8"/>
                    
                    <TextBlock Text="{Binding NotificationMessage}"
                               FontSize="14"
                               Foreground="#F0FFFFFF"
                               TextWrapping="Wrap"
                               LineHeight="20"/>
                </StackPanel>
                
                <!-- Controls -->
                <StackPanel Grid.Column="2" VerticalAlignment="Center">
                    <!-- Close Button -->
                    <Button x:Name="BtnClose" 
                            Width="28"
                            Height="28"
                            Margin="10,0,0,15"
                            Background="Transparent"
                            BorderThickness="0"
                            Cursor="Hand"
                            ToolTip="Close"
                            Click="BtnClose_Click">
                        <Border Width="20" Height="20" CornerRadius="10" Background="#20FFFFFF">
                            <TextBlock Text="âœ•"
                                       FontSize="12"
                                       Foreground="#A0FFFFFF"
                                       HorizontalAlignment="Center"
                                       VerticalAlignment="Center"/>
                        </Border>
                    </Button>
                    
                    <!-- Animated Progress Bar -->
                    <Border Width="28"
                            Height="4"
                            CornerRadius="2"
                            Background="#30FFFFFF"
                            Margin="10,0,0,0">
                        <Border x:Name="ProgressBarFill"
                                HorizontalAlignment="Left"
                                CornerRadius="2"
                                Background="White"
                                Width="28"/>
                    </Border>
                </StackPanel>
            </Grid>
            
        </Border>
    </Border>
</Window>